**ESM (ECMAScript Module)**

**index.js**
// server.mjs
import { createServer } from 'node:http';
import/*불러올거다*/ {controller}/*이것을*/ from'./main.js'/*여기에서*/;

const server = createServer((req, res) => {
  res.writeHead(200, { 
    'Content-Type': 'text/html; charset=utf-8' 
  });
   
  const html = controller(req); /*html 변수 선언 후
  함수를 호출한다 그 값 안에는 요청을 넣는다.*/
  res.end(html); /*html이라는 값으로 응답한다.*/
});

// starts a simple http server locally on port 3000
server.listen(3000, '127.0.0.1', () => {
  console.log('Listening on 127.0.0.1:3000');
});

// run with `node server.mjs`

**main.js**
function text(){
    let html="";

    html += "<h1>html 입니다.</h1>";
    html += "<p>node..</p>";


    return html;
}

export/*내보낼거다*/ function controller/*이런 함수가 발동*/(req/*요청을 받으면*/) {
    let html = "";

    if(req.url === "/a"){
    html = "<h2>a주소 화면</h2>";}
    else if(req.url === "/b"){
    html = "<h2>b주소 화면</h2>";}
    else{
    html = text();
  }
    return html;
}

이후 터미널에서 npm run start입력하면 서버 가동
